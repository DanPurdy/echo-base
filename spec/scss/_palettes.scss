//==============================================================================
//  Custom dependacies
//==============================================================================

$custom-palette-base: rgb(255, 0, 0);

$custom-palettes: (
    custom-palette: (
        base: $custom-palette-base
    )
);




//==============================================================================
//  Palette dependancies
//==============================================================================

@import "../../app/scss/echo-base/defaults/palettes";




//==============================================================================
//  Palette functions
//==============================================================================

//  Setup palettes - setup-palettes()
//==============================================================================

/// Test if setup-palettes() returns an object of type map
///
/// @group Tests

@mixin setup-palettes-test-01() {

    @include test('setup-palettes') {
        // Values to compare
        $test: type-of(setup-palettes());
        $expect: map;

        @include assert-equal($test, $expect, 'Returns a map');
    }

}



/// Test if setup-palettes() successfully merges the default and custom
/// palette maps by checking for the existance of a custom key
///
/// @group Tests

@mixin setup-palettes-test-02() {

    @include test('setup-palettes') {
        // Setup
        $palettes: setup-palettes();

        // Values to compare
        $test: map-has-key($palettes, custom-palette);
        $expect: true;

        @include assert-equal($test, $expect, 'Returns a merged map of default & custom palettes');
    }

}



/// Test if setup-palettes() successfully merges the default and custom
/// palette maps by checking the value of a custom key
///
/// @group Tests

@mixin setup-palettes-test-03() {

    @include test('setup-palettes') {

        // Setup
        $palettes: setup-palettes();
        $custom-color: map-get($palettes, custom-palette);

        // Values to compare
        $test: map-get($custom-color, base);
        $expect: $custom-palette-base;

        @include assert-equal($test, $expect, 'Returns a custom palette value');
    }
}



//==============================================================================
//  Tests
//==============================================================================

@include test-module('Setup palettes') {

    @include setup-palettes-test-01;
    @include setup-palettes-test-02;
    @include setup-palettes-test-03;

}
